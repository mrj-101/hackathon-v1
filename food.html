<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <title>Hackathon 2025</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/portal.css">
  <link rel="stylesheet" href="assets/css/all.min.css">
</head>

<body class="app">

  <my-header></my-header>

  <div class="app-wrapper">
    <div class="app-content pt-3 p-md-3 p-lg-4">
      <div class="container-xl">
        <h1 class="text-center">Room</h1>

        <div id="data_area" class="row row-cols-2 row-cols-md-4 bg-white py-2 row-gap-3 rounded-md">
        </div>
      </div>
    </div>

    <script src="assets/js/partial.js"></script>
    <script src="assets/js/all.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/item.script.js"></script>
</body>

</html>

<script>

  document.addEventListener('DOMContentLoaded', async function () {
    let url = 'http://54.169.154.143:3096/hotel-rooms';
    // let url = './json/hotels.json';
    await fetch(url, {
      method: 'GET',
      redirect: 'follow'
    })
    .then(res => res.json())
    .then(json => {
      console.log(json);
      // renderHotelRoom(json);
    })
    .catch(err => {
      console.log(`Error: ${err}`)
    })
  })
  
  function renderHotelRoom(hotels) {
    let data_area = document.querySelector('#data_area');
    if (hotels.accommodations.length > 0) {
      let data = ``
      hotels.accommodations.forEach(hotel => {
        data += `
              <div class="col-6 col-md-4">
                <div class="app-card app-card-doc shadow-sm h-100">
                  <div class="app-card-thumb-holder">
                      <img src="${hotel.images[0]}" alt="picture" class="img-thumbnail" />
                    <a class="app-card-link-mask" href="#file-link"></a>
                  </div>
                  <div class="app-card-body p-3 text-center bg-success text-white">
                    ${hotel.name}
                  </div>
                </div>
              </div>
            `
      });
      data_area.innerHTML = data
    } else {
      console.log(`No data`)
    }
  }
</script>